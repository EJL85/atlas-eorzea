!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react")):"function"==typeof define&&define.amd?define(["react"],n):e["react-canvas-wrapper"]=n(e.React)}(this,function(e){"use strict";var u="default"in e?e.default:e;function n(e){return function(){return e}}var t=function(){};t.thatReturns=n,t.thatReturnsFalse=n(!1),t.thatReturnsTrue=n(!0),t.thatReturnsNull=n(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e};var o=t,l=function(e){};"production"!==process.env.NODE_ENV&&(l=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")});var h=function(e,n,t,r,o,a,i,u){if(l(n),!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,r,o,a,i,u],p=0;(c=new Error(n.replace(/%s/g,function(){return s[p++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},r=o;if("production"!==process.env.NODE_ENV){r=function(e,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!e){for(var t=arguments.length,r=Array(2<t?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];(function(e){for(var n=arguments.length,t=Array(1<n?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o=0,a="Warning: "+e.replace(/%s/g,function(){return t[o++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}}).apply(void 0,[n].concat(r))}}}var v=r,c=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var m=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,n){for(var t,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var i in t=Object(arguments[a]))s.call(t,i)&&(o[i]=t[i]);if(c){r=c(t);for(var u=0;u<r.length;u++)p.call(t,r[u])&&(o[r[u]]=t[r[u]])}}return o},g="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";if("production"!==process.env.NODE_ENV)var f=h,d=v,y=g,b={};var a,O=function(e,n,t,r,o){if("production"!==process.env.NODE_ENV)for(var a in e)if(e.hasOwnProperty(a)){var i;try{f("function"==typeof e[a],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",t,a,typeof e[a]),i=e[a](n,a,r,t,null,y)}catch(e){i=e}if(d(!i||i instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",t,a,typeof i),i instanceof Error&&!(i.message in b)){b[i.message]=!0;var u=o?o():"";d(!1,"Failed %s type: %s%s",t,i.message,null!=u?u:"")}}},i=function(u,l){var a="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";var f="<<anonymous>>",e={array:n("array"),bool:n("boolean"),func:n("function"),number:n("number"),object:n("object"),string:n("string"),symbol:n("symbol"),any:t(o.thatReturnsNull),arrayOf:function(s){return t(function(e,n,t,r,o){if("function"!=typeof s)return new d("Property `"+o+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a)){var i=y(a);return new d("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+t+"`, expected an array.")}for(var u=0;u<a.length;u++){var c=s(a,u,t,r,o+"["+u+"]",g);if(c instanceof Error)return c}return null})},element:t(function(e,n,t,r,o){var a=e[n];if(!u(a)){var i=y(a);return new d("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+t+"`, expected a single ReactElement.")}return null}),instanceOf:function(u){return t(function(e,n,t,r,o){if(!(e[n]instanceof u)){var a=u.name||f,i=function(e){if(!e.constructor||!e.constructor.name)return f;return e.constructor.name}(e[n]);return new d("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+t+"`, expected instance of `"+a+"`.")}return null})},node:t(function(e,n,t,r,o){return c(e[n])?null:new d("Invalid "+r+" `"+o+"` supplied to `"+t+"`, expected a ReactNode.")}),objectOf:function(s){return t(function(e,n,t,r,o){if("function"!=typeof s)return new d("Property `"+o+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var a=e[n],i=y(a);if("object"!==i)return new d("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+t+"`, expected an object.");for(var u in a)if(a.hasOwnProperty(u)){var c=s(a,u,t,r,o+"."+u,g);if(c instanceof Error)return c}return null})},oneOf:function(c){if(!Array.isArray(c))return"production"!==process.env.NODE_ENV&&v(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;return t(function(e,n,t,r,o){for(var a=e[n],i=0;i<c.length;i++)if(s(a,c[i]))return null;var u=JSON.stringify(c);return new d("Invalid "+r+" `"+o+"` of value `"+a+"` supplied to `"+t+"`, expected one of "+u+".")})},oneOfType:function(u){if(!Array.isArray(u))return"production"!==process.env.NODE_ENV&&v(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var e=0;e<u.length;e++){var n=u[e];if("function"!=typeof n)return v(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",r(n),e),o.thatReturnsNull}return t(function(e,n,t,r,o){for(var a=0;a<u.length;a++){var i=u[a];if(null==i(e,n,t,r,o,g))return null}return new d("Invalid "+r+" `"+o+"` supplied to `"+t+"`.")})},shape:function(p){return t(function(e,n,t,r,o){var a=e[n],i=y(a);if("object"!==i)return new d("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+t+"`, expected `object`.");for(var u in p){var c=p[u];if(c){var s=c(a,u,t,r,o+"."+u,g);if(s)return s}}return null})},exact:function(l){return t(function(e,n,t,r,o){var a=e[n],i=y(a);if("object"!==i)return new d("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+t+"`, expected `object`.");var u=m({},e[n],l);for(var c in u){var s=l[c];if(!s)return new d("Invalid "+r+" `"+o+"` key `"+c+"` supplied to `"+t+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(l),null,"  "));var p=s(a,c,t,r,o+"."+c,g);if(p)return p}return null})}};function s(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}function d(e){this.message=e,this.stack=""}function t(c){if("production"!==process.env.NODE_ENV)var s={},p=0;function e(e,n,t,r,o,a,i){if(r=r||f,a=a||t,i!==g)if(l)h(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var u=r+":"+t;!s[u]&&p<3&&(v(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",a,r),s[u]=!0,p++)}return null==n[t]?e?null===n[t]?new d("The "+o+" `"+a+"` is marked as required in `"+r+"`, but its value is `null`."):new d("The "+o+" `"+a+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:c(n,t,r,o,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function n(u){return t(function(e,n,t,r,o,a){var i=e[n];return y(i)!==u?new d("Invalid "+r+" `"+o+"` of type `"+p(i)+"` supplied to `"+t+"`, expected `"+u+"`."):null})}function c(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(c);if(null===e||u(e))return!0;var n=function(e){var n=e&&(a&&e[a]||e[i]);if("function"==typeof n)return n}(e);if(!n)return!1;var t,r=n.call(e);if(n!==e.entries){for(;!(t=r.next()).done;)if(!c(t.value))return!1}else for(;!(t=r.next()).done;){var o=t.value;if(o&&!c(o[1]))return!1}return!0;default:return!1}}function y(e){var n,t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(n=e,"symbol"===t||"Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol?"symbol":t)}function p(e){if(null==e)return""+e;var n=y(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function r(e){var n=p(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}return d.prototype=Error.prototype,e.checkPropTypes=O,e.PropTypes=e},w=(function(e){if("production"!==process.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=i(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},!0)}else e.exports=function(){function e(e,n,t,r,o,a){a!==g&&h(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function n(){return e}var t={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n};return t.checkPropTypes=o,t.PropTypes=t}()}(a={exports:{}},a.exports),["accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","challenge","charSet","checked","cite","classID","className","colSpan","cols","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","nonce","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","rel","required","reversed","role","rowSpan","rows","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","target","title","type","useMap","value","width","wmode","wrap"]),E=["about","datatype","inlist","prefix","property","resource","typeof","vocab"],x=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onLoad","onError","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"],j=/data-([a-zA-Z0-9\-]*)/,T=/aria-([a-zA-Z0-9\-]*)/,P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,e.apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n.prototype.componentDidMount=function(){this.draw(this.props)},n.prototype.componentWillReceiveProps=function(e){this.draw(e)},n.prototype.shouldComponentUpdate=function(){return!1},n.prototype.draw=function(e){this.canvas&&e.draw(this.canvas)},n.prototype.render=function(){var n=this,e=this.props,t=e.canvasRef,r=e.width,o=e.height,a=e.pixelRatioAware&&window.devicePixelRatio||1,i=t||function(e){n.canvas=e};return u.createElement("canvas",P({},function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},e),o=Object.keys(r).filter(function(e){return-1===n.indexOf(e)&&(-1<t.indexOf(e)||-1!==w.indexOf(e)||-1!==E.indexOf(e)||!!j.test(e)||!!T.test(e)||-1!==x.indexOf(e))});return Object.keys(r).forEach(function(e){-1===o.indexOf(e)&&delete r[e]}),r}(this.props,["width","height"]),{ref:i,width:r*a,height:o*a,style:{width:r,height:o}}))},n}(e.Component);return S.defaultProps={draw:function(){},width:30,height:30,pixelRatioAware:!0},S});
